<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>WebSocket Test</title> </head> <body> <h1>Join Room Test</h1>
<button id="joinRoomButton">Join Room</button>
<div id="response"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script>
    const socket = new SockJS('http://localhost:8080/ws');

    let stompClient = null;

    function connect() {
        const socket = new SockJS('http://localhost:8080/ws');
        stompClient = Stomp.over(socket);
        stompClient.connect({}, function (frame) {
            console.log('Connected: ' + frame);
            document.getElementById('response').innerHTML = 'Connected: ' + frame;
        });
    }

    function joinRoom() {
        const roomId = "yourRoomId";  // Set your room ID here
        const userId = "yourUserId";  // Set your user ID here
        const playerName = "PlayerName";  // Replace with actual player name
        const playerPurse = 1000;  // Example purse value
        const playersBought = [];  // List of players bought, can be empty initially

        const message = JSON.stringify({
            roomId: roomId,
            player: {
                id: userId,
                name: playerName,
                purse: playerPurse,
                playersBought: playersBought
            }
        });

        stompClient.send('/app/joinRoom', {}, message);
        console.log('Join Room message sent:', message);
    }

    document.getElementById('joinRoomButton').onclick = function () {
        joinRoom();
    };

    connect();
</script></body> </html>
